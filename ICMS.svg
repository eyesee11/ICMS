<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="900" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect x="0" y="0" width="1200" height="900" fill="#f4f4f9"/>

  <!-- Title -->
  <text x="600" y="50" font-family="Arial" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">
    ICMS Enhanced Class & Feature Diagram
  </text>

  <!-- Presentation Layer -->
  <rect x="450" y="100" width="300" height="80" rx="10" fill="#4CAF50"/>
  <text x="600" y="130" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="#fff">
    Presentation Layer
  </text>
  <text x="600" y="160" font-family="Arial" font-size="14" text-anchor="middle" fill="#fff">
    main/ICMS.java (Console Menu)
  </text>

  <!-- Feature Panels (Business Logic Layer) -->
  <rect x="100" y="250" width="180" height="70" rx="10" fill="#2196F3"/>
  <text x="190" y="285" font-family="Arial" font-size="15" font-weight="bold" text-anchor="middle" fill="#fff">AdminPanel</text>
  <rect x="320" y="250" width="180" height="70" rx="10" fill="#2196F3"/>
  <text x="410" y="285" font-family="Arial" font-size="15" font-weight="bold" text-anchor="middle" fill="#fff">StudentPanel</text>
  <rect x="540" y="250" width="180" height="70" rx="10" fill="#2196F3"/>
  <text x="630" y="285" font-family="Arial" font-size="15" font-weight="bold" text-anchor="middle" fill="#fff">FacultyPanel</text>
  <rect x="760" y="250" width="180" height="70" rx="10" fill="#2196F3"/>
  <text x="850" y="285" font-family="Arial" font-size="15" font-weight="bold" text-anchor="middle" fill="#fff">LibrarySystem</text>
  <rect x="980" y="250" width="180" height="70" rx="10" fill="#2196F3"/>
  <text x="1070" y="285" font-family="Arial" font-size="15" font-weight="bold" text-anchor="middle" fill="#fff">CourseManagement</text>

  <!-- AuthSystem (shared service) -->
  <rect x="540" y="340" width="180" height="50" rx="10" fill="#1976D2"/>
  <text x="630" y="370" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#fff">auth/AuthSystem</text>

  <!-- Data Access Layer: Custom Data Structures -->
  <rect x="100" y="450" width="150" height="50" rx="10" fill="#FF9800"/>
  <text x="175" y="480" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">ds/CustomArrayList</text>
  <rect x="270" y="450" width="150" height="50" rx="10" fill="#FF9800"/>
  <text x="345" y="480" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">ds/CustomLinkedList</text>
  <rect x="440" y="450" width="150" height="50" rx="10" fill="#FF9800"/>
  <text x="515" y="480" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">ds/CustomStack</text>
  <rect x="610" y="450" width="150" height="50" rx="10" fill="#FF9800"/>
  <text x="685" y="480" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">ds/CustomQueue</text>
  <rect x="780" y="450" width="150" height="50" rx="10" fill="#FF9800"/>
  <text x="855" y="480" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">ds/CustomBST</text>
  <rect x="950" y="450" width="150" height="50" rx="10" fill="#FF9800"/>
  <text x="1025" y="480" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">ds/CustomHashMap</text>

  <!-- Data Storage Layer: Model Classes -->
  <rect x="250" y="600" width="150" height="50" rx="10" fill="#F44336"/>
  <text x="325" y="630" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">model/Student</text>
  <rect x="430" y="600" width="150" height="50" rx="10" fill="#F44336"/>
  <text x="505" y="630" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">model/Faculty</text>
  <rect x="610" y="600" width="150" height="50" rx="10" fill="#F44336"/>
  <text x="685" y="630" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">model/Course</text>
  <rect x="790" y="600" width="150" height="50" rx="10" fill="#F44336"/>
  <text x="865" y="630" font-family="Arial" font-size="13" font-weight="bold" text-anchor="middle" fill="#fff">model/Book</text>

  <!-- Arrows: Presentation Layer to Feature Panels -->
  <line x1="600" y1="180" x2="190" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="600" y1="180" x2="410" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="600" y1="180" x2="630" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="600" y1="180" x2="850" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="600" y1="180" x2="1070" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Arrows: Feature Panels to AuthSystem -->
  <line x1="190" y1="320" x2="630" y2="340" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="410" y1="320" x2="630" y2="340" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="630" y1="320" x2="630" y2="340" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="850" y1="320" x2="630" y2="340" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1070" y1="320" x2="630" y2="340" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Arrows: Feature Panels to Data Access Layer -->
  <line x1="190" y1="320" x2="175" y2="450" stroke="#FF9800" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="410" y1="320" x2="345" y2="450" stroke="#FF9800" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="630" y1="320" x2="515" y2="450" stroke="#FF9800" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="850" y1="320" x2="685" y2="450" stroke="#FF9800" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1070" y1="320" x2="855" y2="450" stroke="#FF9800" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1070" y1="320" x2="1025" y2="450" stroke="#FF9800" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Arrows: Data Access Layer to Data Storage Layer -->
  <line x1="175" y1="500" x2="325" y2="600" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="345" y1="500" x2="505" y2="600" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="515" y1="500" x2="685" y2="600" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="685" y1="500" x2="865" y2="600" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="855" y1="500" x2="325" y2="600" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="1025" y1="500" x2="505" y2="600" stroke="#F44336" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Arrowhead Definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#333"/>
    </marker>
  </defs>

  <!-- Annotations -->
  <text x="600" y="90" font-family="Arial" font-size="13" fill="#333" text-anchor="middle">User Input/Output</text>
  <text x="600" y="230" font-family="Arial" font-size="13" fill="#333" text-anchor="middle">Feature Selection</text>
  <text x="600" y="410" font-family="Arial" font-size="13" fill="#333" text-anchor="middle">Business Logic & Data Structures</text>
  <text x="600" y="570" font-family="Arial" font-size="13" fill="#333" text-anchor="middle">In-Memory Data Storage</text>
</svg>